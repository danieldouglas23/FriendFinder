<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Survey Page</title>


    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
        integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery.js"></script>

    <style>
        #submit-button {
            background-color: blue;
            text-align: center;
            color: white;
            width: 100%;
            padding: 10px;
        }

        #container {
            padding-right: 70px;
            padding-left: 70px;
        }

        /* The Modal (background) */
        .modal {
            display: none;
            /* Hidden by default */
            position: fixed;
            /* Stay in place */
            z-index: 1;
            /* Sit on top */
            padding-top: 100px;
            /* Location of the box */
            left: 0;
            top: 0;
            width: 100%;
            /* Full width */
            height: 100%;
            /* Full height */
            overflow: auto;
            /* Enable scroll if needed */
            background-color: rgb(0, 0, 0);
            /* Fallback color */
            background-color: rgba(0, 0, 0, 0.4);
            /* Black w/ opacity */
        }

        /* Modal Content */
        .modal-content {
            background-color: #fefefe;
            margin: auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
        }

        /* The Close Button */
        .close {
            color: #aaaaaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }

        .close:hover,
        .close:focus {
            color: #000;
            text-decoration: none;
            cursor: pointer;
        }
    </style>
</head>

<body>
    <div id="container">
        <h2>Survey Questions</h2>
        <hr>
        <h4>About You</h4>
        <form>
            Name: (Required)<br>
            <input type="text" name="name"><br>
            Link to Photo Image: (Required)<br>
            <input type="text" name="photo_link">
        </form>
        <br>
        <h4>Your mind is always buzzing with unexplored ideas and plans.</h4>
        <select id="q1">
            <option selected disabled>Select an Option</option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>
        <br><br>
        <h4>Generally speaking, you rely more on your experience than your imagination.</h4>
        <select id="q2">
            <option selected disabled>Select an Option</option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>
        <br><br>
        <h4>You find it easy to stay relaxed and focused even when there is some pressure.</h4>
        <select id="q3">
            <option selected disabled>Select an Option</option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>
        <br><br>
        <h4>You rarely do something just out of sheer curiosity.</h4>
        <select id="q4">
            <option selected disabled>Select an Option</option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>
        <br><br>
        <h4>People can rarely upset you.</h4>
        <select id="q5">
            <option selected disabled>Select an Option</option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>
        <br><br>
        <h4>It is often difficult for you to relate to other people’s feelings.</h4>
        <select id="q6">
            <option selected disabled>Select an Option</option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>
        <br><br>
        <h4>In a discussion, truth should be more important than people’s sensitivities.</h4>
        <select id="q7">
            <option selected disabled>Select an Option</option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>
        <br><br>
        <h4>You rarely get carried away by fantasies and ideas.</h4>
        <select id="q8">
            <option selected disabled>Select an Option</option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>
        <br><br>
        <h4>You think that everyone’s views should be respected regardless of whether they are supported by facts or
            not.</h4>
        <select id="q9">
            <option selected disabled>Select an Option</option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>
        <br><br>
        <h4>You feel more energetic after spending time with a group of people.</h4>
        <select id="q10">
            <option selected disabled>Select an Option</option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>
        <br><br>
        <button type="button" class="btn btn-primary" id="submit-button"><i class="fas fa-check-square"></i>
            Submit</button>
        <!-- The Modal -->
        <div id="myModal" class="modal">

            <!-- Modal content -->
            <div class="modal-content">
                <span class="close">&times;</span>
                <h3>Best Match</h3>
                <hr>

                <!-- Add best match data -->
                <div>

                </div>
                <hr>
                <button id="close-button">Close</button>
            </div>

        </div>
    </div>

    <script>
        // Get the modal
        var modal = document.getElementById('myModal');

        // Get the button that opens the modal
        var submitButton = document.getElementById("submit-button");
        var closeButton = document.getElementById("close-button");

        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];

        // When the user clicks the button, open the modal 
        submitButton.onclick = function () {
            modal.style.display = "block";
        }

        // When the user clicks on <span> (x), close the modal
        span.onclick = function () {
            modal.style.display = "none";
        }

        closeButton.onclick = function () {
            modal.style.display = "none";
        }

        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function (event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }
    </script>
</body>

</html>



<!-- BELOW CODE IS CRITICAL. IT HANDLES HOW FORM DATA IS SENT TO OUR SERVER -->
<!-- <script type="text/javascript">
    // In this code below we create the Front-end JavaScript which "POSTS" our form data to our express server.
    // In essence, when the user hits submit, jQuery grabs all of the fields then sends a post request to our api
    // Our api recognizes the route (/api/tables)... and then runs the associated code (found in api-routes.js).
    // In this case the associated code "saves" the data to the table-data.js file or waitinglist-data.js file

    $(".submit").on("click", function (event) {
        event.preventDefault();

        // Here we grab the form elements
        var newReservation = {
            customerName: $("#reserve-name").val().trim(),
            phoneNumber: $("#reserve-phone").val().trim(),
            customerEmail: $("#reserve-email").val().trim(),
            customerID: $("#reserve-unique-id").val().trim()
        };

        console.log(newReservation);

        // This line is the magic. It"s very similar to the standard ajax function we used.
        // Essentially we give it a URL, we give it the object we want to send, then we have a "callback".
        // The callback is the response of the server. In our case, we set up code in api-routes that "returns" true or false
        // depending on if a tables is available or not.

        $.post("/api/tables", newReservation,
            function (data) {

                // If a table is available... tell user they are booked.
                if (data) {
                    alert("Yay! You are officially booked!");
                }

                // If a table is available... tell user they on the waiting list.
                else {
                    alert("Sorry you are on the wait list");
                }

                // Clear the form when submitting
                $("#reserve-name").val("");
                $("#reserve-phone").val("");
                $("#reserve-email").val("");
                $("#reserve-unique-id").val("");

            });

    });

</script> -->